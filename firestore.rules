rules_version = '2';
service cloud.firestore {
  // This rule applies to all documents in your database.
  match /databases/{database}/documents {
    match /{document=**} {
      // 1. **request.auth != null**: This is the core condition.
      //    It checks if *any* user is signed in, regardless of whether they
      //    used an email/password, Google, or anonymous authentication.
      //
      // 2. **allow read, write**: Grants permission for all operations:
      //    read (get, list) and write (create, update, delete).
      allow read, write: if request.auth != null;
    }
  }
}
